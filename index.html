<body>
    <!-- Adiciona o áudio no início do body -->
    <audio id="audio" autoplay>
      <source src="Christina Perri - A Thousand Years [Official Music Video].mp3" type="audio/mp3">
      Seu navegador não suporta a tag de áudio.
    </audio>
  
    <div class="container">
      <!-- Etapa 1 -->
      <div id="step1" class="message-container">
        <div class="bg-layer" style="background-image: url('https://imgur.com/iQf5mGP.jpg');"></div>
        <h2 class="typing">Feliz Aniversário!</h2>
        <p class="typing-second">Hoje é um dia especial, e eu queria te dizer algumas coisas...</p>
      </div>
  
      <!-- Etapa 2 -->
      <div id="step2" class="message-container">
        <div class="bg-layer" style="background-image: url('https://imgur.com/6G36wvN.jpg');"></div>
        <h2 class="typing">Você é incrível!</h2>
        <p class="typing-second">Eu adoro o seu jeito, sua energia e o quanto você ilumina o mundo.</p>
      </div>
  
      <!-- Etapa 3 -->
      <div id="step3" class="message-container">
        <div class="bg-layer" style="background-image: url('https://imgur.com/3zJqDw6.jpg');"></div>
        <h2 class="typing">Uma pequena surpresa...</h2>
        <p class="typing-second">Queria te dar algo especial, então preparei isso pra você! 💖</p>
      </div>
  
      <!-- Etapa 4 -->
      <div id="step4" class="message-container">
        <div class="bg-layer" style="background-image: url('https://imgur.com/SLqBYGO.jpg');"></div>
        <h2 class="typing">Seu presente está pronto!</h2>
        <p class="typing-second">Aqui está o QR Code para você resgatar seu presente 🎁</p>
        <img src="QR_CODE_AQUI.png" alt="QR Code Pix">
        <p>🎉</p>
      </div>
    </div>
  
    <script>
      let currentStep = 1;
  
      function showNextStep() {
        // Oculta a etapa atual
        document.getElementById('step' + currentStep).style.opacity = 0;
  
        // Exibe a próxima etapa com transição suave
        currentStep++;
        if (currentStep > 4) currentStep = 1;
        let nextStep = document.getElementById('step' + currentStep);
        
        nextStep.style.display = 'flex';
        setTimeout(() => {
          nextStep.style.opacity = 1;
        }, 10);
  
        // Reinicia o efeito de digitação nos elementos com classe "typing" e "typing-second"
        let texts = nextStep.querySelectorAll('.typing, .typing-second');
        texts.forEach(text => {
          text.style.animation = 'none';
          void text.offsetWidth; // Força reflow para reiniciar a animação
          text.style.animation = text.classList.contains('typing') 
            ? 'typing 5s steps(40) forwards' 
            : 'typing 5s steps(40) 5s forwards';
        });
        
        // Garante que o <p> se torne visível após o <h2> terminar
        let pText = nextStep.querySelector('.typing-second');
        setTimeout(() => {
          pText.style.visibility = 'visible';
        }, 5000);
      }
  
      // Troca de etapa a cada 13 segundos
      setInterval(showNextStep, 13000);
  
      // Exibe a etapa 1 imediatamente
      document.getElementById('step1').style.display = 'flex';
      setTimeout(() => {
        document.getElementById('step1').style.opacity = 1;
      }, 10);
  
      // Para a etapa 1, também garante que o <p> seja visível após 5 segundos
      let initialP = document.querySelector('#step1 .typing-second');
      setTimeout(() => {
        initialP.style.visibility = 'visible';
      }, 5000);
    </script>
  </body>
  